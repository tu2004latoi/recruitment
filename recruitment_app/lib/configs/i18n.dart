import 'package:recruitment_app/configs/locale_controller.dart';

/// Very small i18n helper. Use tr('key') to get the localized string.
/// Default language is Vietnamese (vi) when locale is null/unknown.
String tr(String key) {
  final code = LocaleController.instance.locale?.languageCode ?? 'vi';
  final lang = _dict[code] ?? _dict['vi']!;
  return lang[key] ?? _dict['vi']![key] ?? key;
}

const Map<String, Map<String, String>> _dict = {
  'vi': {
    'settings': 'Cài đặt',
    'language': 'Ngôn ngữ',
    'appearance': 'Giao diện',
    'light': 'Sáng',
    'version': 'Phiên bản',
    'vietnamese': 'Tiếng Việt',
    'english': 'English',

    // Job detail
    'apply': 'Ứng tuyển',
    'applied': 'Đã ứng tuyển',
    'chat': 'Nhắn tin',
    'already_applied_msg': 'Bạn đã ứng tuyển công việc này.',
    'submit_application_success': 'Đã gửi đơn ứng tuyển',
    'job_detail_load_error': 'Không thể tải chi tiết công việc',
    'share_link_copied': 'Link đã được sao chép (giả lập).',
    'job_detail_title': 'Chi tiết công việc',
    'error_occurred': 'Đã có lỗi xảy ra.',
    'retry': 'Thử lại',
    'recruiter': 'Nhà tuyển dụng',
    'expired_prefix': 'Hết hạn',
    'unknown': 'Không rõ',
    'today': 'Hôm nay',
    'days_ago': '{n} ngày trước',
    'weeks_ago': '{n} tuần trước',
    'months_ago': '{n} tháng trước',
    'views': 'Lượt xem',
    'applications': 'Ứng tuyển',
    'quantity': 'Số lượng',
    'save': 'Lưu',
    'unsave': 'Bỏ lưu',
    'share': 'Chia sẻ',
    'saved_job': 'Đã lưu công việc vào yêu thích.',
    'unsaved_job': 'Đã bỏ lưu công việc.',
    'action_failed': 'Thao tác thất bại',
    'negotiable': 'Thỏa thuận',
    'cover_letter': 'Thư giới thiệu',
    'cover_letter_hint': 'Giới thiệu ngắn gọn về bạn...',
    'no_cv_selected': 'Chưa chọn CV/Resume',
    'choose_cv': 'Chọn CV',
    'submit': 'Gửi đơn',
    'apply_failed': 'Ứng tuyển thất bại',
    'job_description': 'Mô tả công việc',
    'recruiter_not_found_for_chat': 'Không tìm thấy nhà tuyển dụng để nhắn tin.',
    'cannot_open_chat': 'Không thể mở trò chuyện',

    // My Jobs
    'my_jobs_title': 'Công việc của tôi',
    'add_job': 'Thêm công việc',
    'no_jobs_yet': 'Chưa có tin tuyển dụng',
    'created_date': 'Ngày tạo',
    'salary': 'Mức lương',
    'confirm': 'Xác nhận',
    'confirm_delete_job': 'Bạn có chắc chắn muốn xóa công việc này?',
    'cancel': 'Hủy',
    'delete': 'Xóa',
    'edit': 'Sửa',
    'delete_success': 'Xóa công việc thành công!',
    'delete_failed': 'Xóa công việc thất bại',
    'load_failed': 'Tải dữ liệu thất bại',
    'inactive': 'Không hoạt động',
    'active': 'Hoạt động',
    'deleting': 'Đang xóa...',
    'user_unknown': 'Không xác định được người dùng',

    // Home
    'latest_jobs': 'Việc Làm Mới Nhất',
    'messages': 'Tin nhắn',
    'search_jobs_placeholder': 'Tìm kiếm việc làm...',
    'advanced_filters': 'Bộ lọc nâng cao',
    'filtering_by_my_level': 'Đang lọc theo cấp độ của tôi',
    'filter_by_my_level': 'Theo cấp độ của tôi',
    'update_level_notice': 'Vui lòng cập nhật trình độ trong hồ sơ để sử dụng tính năng này.',
    'industry': 'Ngành nghề',
    'job_type': 'Hình thức làm việc',
    'level': 'Cấp bậc',
    'min_salary': 'Lương tối thiểu',
    'featured_tag': 'Nổi bật',
    'featured': 'Nổi bật',
    'clear_filters': 'Xóa lọc',
    'showing_suitable_by_level': 'Đang hiển thị công việc phù hợp với cấp độ của bạn.',
    'no_jobs_found': 'Không tìm thấy công việc',
    'try_clear_filters': 'Hãy thử xóa bộ lọc hoặc từ khóa',
    'clear_all_filters': 'Xóa tất cả bộ lọc',
    'prev': 'Trước',
    'next': 'Sau',
    'sort': 'Sắp xếp',
    'views_desc': 'Lượt xem (giảm dần)',
    'applications_desc': 'Lượt ứng tuyển (giảm dần)',
    'all': 'Tất cả',

    // Chat
    'refresh': 'Làm mới',
    'chat_partners': 'Đối tác trò chuyện',
    'no_messages_yet': 'Chưa có tin nhắn',
    'enter_message': 'Nhập tin nhắn...',
    'error_loading_messages': 'Lỗi tải tin nhắn',
    'cannot_load_conversation': 'Không thể tải hội thoại',
  },
  'en': {
    'settings': 'Settings',
    'language': 'Language',
    'appearance': 'Appearance',
    'light': 'Light',
    'version': 'Version',
    'vietnamese': 'Vietnamese',
    'english': 'English',

    // Job detail
    'apply': 'Apply',
    'applied': 'Applied',
    'chat': 'Chat',
    'already_applied_msg': 'You have already applied to this job.',
    'submit_application_success': 'Application submitted',
    'job_detail_load_error': 'Could not load job details',
    'share_link_copied': 'Link copied (mock).',
    'job_detail_title': 'Job Details',
    'error_occurred': 'An error occurred.',
    'retry': 'Retry',
    'recruiter': 'Recruiter',
    'expired_prefix': 'Expires',
    'unknown': 'Unknown',
    'today': 'Today',
    'days_ago': '{n} days ago',
    'weeks_ago': '{n} weeks ago',
    'months_ago': '{n} months ago',
    'views': 'Views',
    'applications': 'Applications',
    'quantity': 'Quantity',
    'save': 'Save',
    'unsave': 'Unsave',
    'share': 'Share',
    'saved_job': 'Job saved to favorites.',
    'unsaved_job': 'Job removed from favorites.',
    'action_failed': 'Action failed',
    'negotiable': 'Negotiable',
    'cover_letter': 'Cover letter',
    'cover_letter_hint': 'Briefly introduce yourself...',
    'no_cv_selected': 'No CV/Resume selected',
    'choose_cv': 'Choose CV',
    'submit': 'Submit',
    'apply_failed': 'Apply failed',
    'job_description': 'Job description',
    'recruiter_not_found_for_chat': 'Recruiter not found to chat.',
    'cannot_open_chat': 'Cannot open chat',

    // My Jobs
    'my_jobs_title': 'My Jobs',
    'add_job': 'Add job',
    'no_jobs_yet': 'No job postings yet',
    'created_date': 'Created',
    'salary': 'Salary',
    'confirm': 'Confirm',
    'confirm_delete_job': 'Are you sure you want to delete this job?',
    'cancel': 'Cancel',
    'delete': 'Delete',
    'edit': 'Edit',
    'delete_success': 'Job deleted successfully!',
    'delete_failed': 'Delete job failed',
    'load_failed': 'Failed to load data',
    'inactive': 'Inactive',
    'active': 'Active',
    'deleting': 'Deleting...',
    'user_unknown': 'User could not be determined',

    // Home
    'latest_jobs': 'Latest Jobs',
    'messages': 'Messages',
    'search_jobs_placeholder': 'Search jobs...',
    'advanced_filters': 'Advanced filters',
    'filtering_by_my_level': 'Filtering by my level',
    'filter_by_my_level': 'By my level',
    'update_level_notice': 'Please update your level in profile to use this feature.',
    'industry': 'Industry',
    'job_type': 'Job type',
    'level': 'Level',
    'min_salary': 'Minimum salary',
    'featured_tag': 'Featured',
    'featured': 'Featured',
    'clear_filters': 'Clear filters',
    'showing_suitable_by_level': 'Showing jobs suitable to your level.',
    'no_jobs_found': 'No jobs found',
    'try_clear_filters': 'Try clearing filters or keywords',
    'clear_all_filters': 'Clear all filters',
    'prev': 'Prev',
    'next': 'Next',
    'sort': 'Sort',
    'views_desc': 'Views (desc)',
    'applications_desc': 'Applications (desc)',
    'all': 'All',

    // Chat
    'refresh': 'Refresh',
    'chat_partners': 'Chat partners',
    'no_messages_yet': 'No messages yet',
    'enter_message': 'Enter a message...',
    'error_loading_messages': 'Error loading messages',
    'cannot_load_conversation': 'Cannot load conversation',
  },
};
